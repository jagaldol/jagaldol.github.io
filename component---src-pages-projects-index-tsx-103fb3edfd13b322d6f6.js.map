{"version":3,"file":"component---src-pages-projects-index-tsx-103fb3edfd13b322d6f6.js","mappings":"6IAEe,SAASA,EAAM,GAAuE,IAAvE,KAAEC,EAAI,WAAEC,GAAa,GAA+C,EAChG,MAAMC,EAAG,iCAAoCF,EAAI,oCAAoCA,EAAI,mBACzF,OAAOG,EAAAA,cAAAA,MAAAA,CAAKD,IAAKA,EAAKE,IAAKJ,EAAMK,UAAS,kBAAmBJ,EAAa,GAAK,iCACjF,C,uHCEA,SAASK,EAAY,GAAwD,IAAxD,MAAEC,EAAK,OAAEC,GAA6C,EACzE,MAAM,EAACC,EAAU,EAAEC,IAAiBC,EAAAA,EAAAA,WAAS,IACvC,EAACC,EAAS,EAAEC,IAAgBF,EAAAA,EAAAA,WAAS,GAErCG,GAAaC,EAAAA,EAAAA,QAA8B,MAC3CC,GAAaD,EAAAA,EAAAA,QAA8B,MAE3CE,EAAkBA,KACtB,GAAIH,EAAWI,QAAS,CACtB,MAAMC,EAAOL,EAAWI,QAAQE,wBAC1BC,EAAeF,EAAKG,KAAO,GAAKH,EAAKI,QAAUC,OAAOC,YAE5DZ,EAAaQ,EACf,GA+BF,OA5BAK,EAAAA,EAAAA,YAAU,KACJd,IACGH,IACHC,GAAc,GACVM,EAAWE,SACbS,aAAaX,EAAWE,SAE1BF,EAAWE,QAAUU,YAAW,KAC9BlB,GAAc,EAAM,GACnB,MAEP,GACC,CAACE,KAEJc,EAAAA,EAAAA,YAAU,KACRF,OAAOK,iBAAiB,SAAUZ,GAClCO,OAAOK,iBAAiB,SAAUZ,GAClCA,IAEO,KACLO,OAAOM,oBAAoB,SAAUb,GACrCO,OAAOM,oBAAoB,SAAUb,GACjCD,EAAWE,SACbS,aAAaX,EAAWE,QAC1B,IAED,IAGDf,EAAAA,cAAAA,MAAAA,CACE4B,IAAKjB,EACLT,UAAS,kDAAmDI,EAAa,cAAgB,IAAE,2HAE3FN,EAAAA,cAAAA,KAAAA,CAAIE,UAAU,qEAAqEE,GACnFJ,EAAAA,cAAAA,MAAAA,CAAKE,UAAU,yGACZG,EAAOwB,KAAKC,GACX9B,EAAAA,cAAAA,MAAAA,CAAK+B,IAAKD,EAAO5B,UAAU,OACzBF,EAAAA,cAACJ,EAAAA,EAAK,CAACC,KAAMiC,QAMzB,CAqCA,UAnCuCE,IAA6B,IAA5B,KAAEC,GAAqB,EAC7D,MAAMC,EAAWD,EAAKE,OAAOC,MAE7B,OACEpC,EAAAA,cAACqC,EAAAA,EAAM,KACLrC,EAAAA,cAAAA,MAAAA,CAAKE,UAAU,kCACbF,EAAAA,cAAAA,KAAAA,CAAIE,UAAU,uBAAsB,gBACpCF,EAAAA,cAAAA,MAAAA,CAAKE,UAAU,gHACZgC,EAASL,KAAKS,IACb,MAAMC,GAAQC,EAAAA,EAAAA,GAASF,EAAQG,YAAYF,OAC3C,OACEvC,EAAAA,cAAC0C,EAAAA,KAAI,CACHX,IAAKO,EAAQK,GACbC,GAAIN,EAAQG,YAAYI,KACxB3C,UAAU,qIAETqC,EACCvC,EAAAA,cAAC8C,EAAAA,EAAW,CACV7C,IAAQqC,EAAQG,YAAYrC,MAAK,UACjC2C,QAAQ,QACRR,MAAOA,EACPrC,UAAU,0DACV8C,UAAU,YAEV,KACJhD,EAAAA,cAACG,EAAW,CAACC,MAAOkC,EAAQG,YAAYrC,MAAOC,OAAQiC,EAAQG,YAAYQ,QACtE,MAKR,EAMN,MAoBMC,EAAeA,IAAMlD,EAAAA,cAAAA,QAAAA,KAAO,sB","sources":["webpack://app/./src/components/Badge.tsx","webpack://app/./src/pages/projects/index.tsx"],"sourcesContent":["import React from 'react'\r\n\r\nexport default function Badge({ name, autoHeight = false }: { name: string; autoHeight?: boolean }) {\r\n  const src = `https://img.shields.io/badge/-${name}-FFFFFF?style=for-the-badge&logo=${name}&logoColor=black`\r\n  return <img src={src} alt={name} className={`drop - shadow ${autoHeight ? '' : 'object-contain w-full h-full'}`} />\r\n}\r\n","import type { HeadFC, PageProps } from 'gatsby'\nimport { graphql, Link } from 'gatsby'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { GatsbyImage, getImage } from 'gatsby-plugin-image'\nimport Layout from '@/components/Layout'\nimport Badge from '@/components/Badge'\n\nfunction ProjectLink({ title, stacks }: { title: string; stacks: string[] }) {\n  const [applyClass, setApplyClass] = useState(false)\n  const [isVisible, setIsVisible] = useState(false)\n\n  const elementRef = useRef<HTMLDivElement | null>(null) // 요소의 참조를 저장합니다.\n  const timeoutRef = useRef<NodeJS.Timeout | null>(null) // 요소의 참조를 저장합니다.\n\n  const checkVisibility = () => {\n    if (elementRef.current) {\n      const rect = elementRef.current.getBoundingClientRect()\n      const fullyVisible = rect.top >= 0 && rect.bottom <= window.innerHeight\n\n      setIsVisible(fullyVisible)\n    }\n  }\n\n  useEffect(() => {\n    if (isVisible) {\n      if (!applyClass) {\n        setApplyClass(true)\n        if (timeoutRef.current) {\n          clearTimeout(timeoutRef.current)\n        }\n        timeoutRef.current = setTimeout(() => {\n          setApplyClass(false) // 1초 후 클래스 제거\n        }, 1000)\n      }\n    }\n  }, [isVisible])\n\n  useEffect(() => {\n    window.addEventListener('scroll', checkVisibility)\n    window.addEventListener('resize', checkVisibility)\n    checkVisibility() // 초기 로드 시에도 확인\n\n    return () => {\n      window.removeEventListener('scroll', checkVisibility)\n      window.removeEventListener('resize', checkVisibility)\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n      }\n    }\n  }, [])\n\n  return (\n    <div\n      ref={elementRef}\n      className={`absolute left-0 top-0 w-full h-full opacity-0 ${applyClass ? 'opacity-100' : ''} group-hover:opacity-100 bg-gradient-to-tl from-main-theme to-main-theme/40 z-10 transition-all duration-500 text-white`}\n    >\n      <h3 className=\"absolute right-0 bottom-0 text-3xl -translate-x-8 -translate-y-10\">{title}</h3>\n      <div className=\"absolute right-0 bottom-0 -translate-x-7 -translate-y-3 flex gap-1 justify-end items-center flex-wrap\">\n        {stacks.map((value: string) => (\n          <div key={value} className=\"h-6\">\n            <Badge name={value} />\n          </div>\n        ))}\n      </div>\n    </div>\n  )\n}\n\nconst IndexPage: React.FC<PageProps> = ({ data }: { data: any }) => {\n  const projects = data.allMdx.nodes\n\n  return (\n    <Layout>\n      <div className=\"mt-5 flex flex-col text-center\">\n        <h1 className=\"text-3xl mt-8 mb-16\">Project List</h1>\n        <div className=\"grid grid-cols-3 max-lg:grid-cols-2 py-5 max-md:grid-cols-1 mx-20 max-2xl:mx-10 max-md:mx-0 gap-x-3 gap-y-10\">\n          {projects.map((project: any) => {\n            const image = getImage(project.frontmatter.image)\n            return (\n              <Link\n                key={project.id}\n                to={project.frontmatter.slug}\n                className=\"relative w-full h-full bg-gradient-to-bl to-gray-300 from-gray-100 drop-shadow-lg flex items-center justify-center max-h-96 group\"\n              >\n                {image ? (\n                  <GatsbyImage\n                    alt={`${project.frontmatter.title} 대표 이미지`}\n                    loading=\"eager\"\n                    image={image}\n                    className=\"h-full group-hover:scale-90 transition-all duration-500\"\n                    objectFit=\"contain\"\n                  />\n                ) : null}\n                <ProjectLink title={project.frontmatter.title} stacks={project.frontmatter.stack} />\n              </Link>\n            )\n          })}\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n\nexport const query = graphql`\n  query Projects {\n    allMdx(sort: { frontmatter: { end_date: DESC } }) {\n      nodes {\n        id\n        frontmatter {\n          slug\n          title\n          stack\n          image {\n            childImageSharp {\n              gatsbyImageData(placeholder: BLURRED, width: 500)\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport const Head: HeadFC = () => <title>Project | Hyejun An</title>\n"],"names":["Badge","name","autoHeight","src","React","alt","className","ProjectLink","title","stacks","applyClass","setApplyClass","useState","isVisible","setIsVisible","elementRef","useRef","timeoutRef","checkVisibility","current","rect","getBoundingClientRect","fullyVisible","top","bottom","window","innerHeight","useEffect","clearTimeout","setTimeout","addEventListener","removeEventListener","ref","map","value","key","_ref2","data","projects","allMdx","nodes","Layout","project","image","getImage","frontmatter","Link","id","to","slug","GatsbyImage","loading","objectFit","stack","Head"],"sourceRoot":""}